!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.FSMRouter=e(require("react")):t.FSMRouter=e(t.React)}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=6)}([function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return o(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useMachine=e.createMachine=e.MachineContext=void 0;var u=i(n(1)),l=n(8),s=c(n(7)),f=n(2);e.MachineContext=u.default.createContext({}),e.MachineContext.displayName="Machine";e.createMachine=function(t){return function(e){return h(r(r({},e),t))}};e.useMachine=function(){var t=(0,u.useContext)(e.MachineContext);return[{current:t.current,history:t.history,id:t.id,params:t.params},t.send]};var h=function(t){var n=t.children,a=t.history,o=t.id,i=void 0===o?"machine":o,c=t.ignoreHash,h=void 0!==c&&c,d=t.logging,p=void 0!==d&&d,v=(0,u.useMemo)((function(){return a||(0,l.createBrowserHistory)()}),[]),g=(0,u.useMemo)((function(){var t=(0,f.getChildStateNodes)(n);if(0===t.length)throw new Error("<Machine/> has no children <State/> nodes! At least one is required to be considered a valid state machine.");return[t,(0,f.normalizeChildStateProps)(t,i)]}),[n]),m=g[0],y=g[1],b=(0,u.useMemo)((function(){var t=(0,f.resolveUrlToAtomic)(v.location.pathname,y,i),e=t.params,n=(t.path,t.stack),r=t.url;return(0,f.urlMatchesPathname)(v.location.pathname,r)&&v.replace(r),[n,e]}),[]),k=b[0],S=b[1],_=(0,u.useState)({current:k,location:v.location,params:S}),P=_[0],M=_[1],O=(0,s.default)({current:P.current,location:P.location},p),x=(O[0],O[1]);(0,u.useEffect)((function(){return v.listen((function(t){var e=t.action,n=t.location,a=(0,f.resolveUrlToAtomic)(n.pathname,y,i),o=a.params,c=(a.path,a.stack),u=a.url,l=c;(0,f.urlMatchesPathname)(v.location.pathname,u)&&v.replace(u),h&&P.location.hash!==n.hash?M((function(t){return r(r({},t),{location:v.location,params:o})})):(n.state&&n.state.target&&(l=n.state.target),"POP"!==e&&n.state&&n.state.target||x({type:"HISTORY_".concat(e),payload:{target:{target:l,params:o,location:v.location,state:c}}}),M((function(t){return{current:l,location:v.location,params:o}})))}))}));var j=r(r({},P),{history:v,id:i,send:function(t,e){void 0===e&&(e=null);var n=(0,f.selectTransition)(t,P.current,y);if(n){var r=e&&e.params||P.params,a=(n.event,n.target),o=y.find((function(t){return t.id===a}));if(o){var i=(0,f.getAtomic)(o.stack,y),c=i.path,u=i.stack,l=(0,f.injectUrlParams)(c,r);l!==v.location.pathname?v.push(l,{target:u}):M((function(t){return{current:u,location:v.location,params:r}})),x({type:"TRANSITION",payload:{event:t,target:{params:r,location:v.location,state:u}}})}else x({type:"NO_MATCHING_STATE",payload:{event:t,target:{params:r,state:a}}})}else x({type:"NO_MATCHING_TRANSITION",payload:{event:t}})}});return u.default.createElement(e.MachineContext.Provider,{value:j},m)};h.displayName="Machine",e.default=h},function(e,n){e.exports=t},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.urlMatchesPathname=e.selectTransition=e.resolveUrlToAtomic=e.getAtomic=e.normalizeChildStateProps=e.injectUrlParams=e.isExactStack=e.isCurrentStack=e.classNames=e.getChildStateNodes=void 0;var o=a(n(1));e.getChildStateNodes=function(t){var e,n;if(o.default.Children.toArray(t).length){var r=i(t,"State");if(r.length)return r;if(null===(e=t.props)||void 0===e?void 0:e.children)return null===(n=t.props)||void 0===n?void 0:n.children.reduce((function(t,e){return t=t.concat(i(e.props.children,"State"))}),[])}return[]};e.classNames=function(t){var e=t.map((function(t){switch(typeof t){case"string":return t;case"object":return Object.keys(t).filter((function(e){return Boolean(t[e])})).join(" ").trim();default:return""}})).join(" ").trim();return Boolean(e)?e:""};var i=function(t,e){return o.default.Children.toArray(t).filter((function(t){return!!o.default.isValidElement(t)&&t.type===e}))};e.isCurrentStack=function(t,e){return!!e.split(".").find((function(e){return e===t}))};e.isExactStack=function(t,e){return e.split(".").pop()===t};var c=function(t){return/^:(.+)/.test(t)},u=function(t){return"/"===t},l=function(t){return t.split("/").filter(Boolean)};e.injectUrlParams=function(t,e){return"/"+l(t).map((function(t){if(c(t)){var n=t.replace(":","");return Object.keys(e).includes(n)?e[n].toString():(console.error("Cannot push to a dynamic URL without supplying the proper parameters: ".concat(t," parameter is missing.")),"undefined")}return t})).join("/")+(window.location.search?window.location.search:"")};e.normalizeChildStateProps=function(t,n){var r=function(t){var n=t.findIndex((function(t){return t.props.initial}));return n=n>=0?n:0,t.reduce((function(t,a,o){var c=a.props,l=c.children,s=c.id,f=c.parallel,h=c.path,d=void 0===h?"/":h,p=(0,e.getChildStateNodes)(l),v=i(l,"Transition").map((function(t){var e=t.props;return{cond:!0===e.cond||void 0===e.cond,event:e.event,sendId:s,target:e.target}}));return t.push({childStates:p.map((function(t){return t.props.id})),id:s,initial:n===o,path:d,stack:"."+s,transitions:v,type:f?"parallel":0===p.length?"atomic":p.length>1?"compound":"default"}),p.length&&r(p).forEach((function(e,n){return t.push({childStates:e.childStates,id:e.id,initial:e.initial,path:u(d)?e.path:u(e.path)?d:d+e.path,stack:"."+s+e.stack,transitions:e.transitions,type:e.type})})),t}),[])};return r(o.default.Children.toArray(t)).map((function(t){return t.stack="#"+n+t.stack,t}))};e.getAtomic=function(t,n){var r=n.find((function(e){return e.stack===t})),a=r.childStates,o={path:r.path,stack:r.stack};if(a.length){var i=a.map((function(t){return n.find((function(e){return e.id===t}))})),c=i.find((function(t){return t.initial}))||i[0];if(c.childStates.length)return(0,e.getAtomic)(c.stack,n);o.path=c.path||"/",o.stack=c.stack}return o};e.resolveUrlToAtomic=function(t,n,a){var o={params:{},path:null,stack:null,url:t},i=function(t,a){var i=(0,e.getAtomic)(t,n),c=i.path,u=i.stack;return r(r({},o),{path:c,stack:u,url:(0,e.injectUrlParams)(c,o.params)})};if(u(t)){var s=n[0].stack;o=i(s)}else{var f=function(t,e,n){var r={exact:!1,params:{},path:t,stack:null,url:null},a=e.find((function(e){return e.path===t}));if(a)return r.path=a.path,r.stack=a.stack,r;if(function(t){return""===t.slice(1)}(t))return r.stack=e.find((function(t){return 1===t.stack.match(/\./g).length&&t.initial})).stack,r;var o=e.filter((function(t){return t.path&&t.path.match(/\/:/g)})).map((function(t){return t.path}));if(o.length){var i=l(t),u=o.find((function(t){var e=l(t);return r.params={},e.length===i.length&&!e.map((function(t,e){return c(t)?(r.params[t.slice(1)]=i[e],!0):t===i[e]})).includes(!1)}));u&&(r.path=u,r.stack=e.find((function(t){return t.path===u})).stack)}if(!r.stack){var s=e.find((function(t){return"*"===t.id}));r.stack="#"+n+".*",s||console.warn('No <State/> configuration matches URL "'.concat(t,", and no catch-all <State id='*' path='/404'/> exists. Consider adding one."))}return r}(t,n,a),h=f.params,d=f.path,p=f.stack;o=r(r({},o),{params:h,path:d,stack:p}),function(t){return"*"===t.split(".").pop()}(p)||(o=i(p))}return o};e.selectTransition=function(t,n,r){var a;if(!n.match(/\./g))return null;var o=r&&(null===(a=r.find((function(t){return t.stack===n})))||void 0===a?void 0:a.transitions);if(null==o?void 0:o.length){var i=o.find((function(e){var n=e.cond,r=e.event;e.target;return r===t&&(null===n||!0===n)}));if(i)return i}var c=n.split(".").slice(0,-1).join(".");return(0,e.selectTransition)(t,c,r)};e.urlMatchesPathname=function(t,e){return t!==e.split("?")[0]}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1)),c=n(2),u=n(0),l=function(t){var e=t.children,n=t.className,r=t.disabled,a=void 0!==r&&r,o=t.href,l=void 0===o?"#":o,s=t.onClick,f=t.replace,h=void 0!==f&&f,d=(0,i.useContext)(u.MachineContext),p=(d.current,d.history);return i.default.createElement("a",{className:(0,c.classNames)([n,{"link-exact":l===p.location.pathname,"link-active":p.location.pathname.includes(l),disabled:a}]),href:l,onClick:function(t){(t.preventDefault(),a)||(p[h?"replace":"push"](l),s&&s(t))}},e)};l.displayName="Link",e.default=l},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.StateNodeContext=void 0;var c=i(n(1)),u=n(0),l=n(2);e.StateNodeContext=c.default.createContext({}),e.StateNodeContext.displayName="StateNode";var s=function(t){var n=t.children,a=t.component,o=t.id,i=(t.initial,t.path),s=(0,c.useContext)(u.MachineContext),f=s.current,h=s.history,d=s.id,p=s.params,v=s.send,g=(0,c.useContext)(e.StateNodeContext),m=(g.id,g.path),y=g.stack,b=y?"".concat(y,".").concat(o):"#".concat(d,".").concat(o),k=i?m?m+i:i:m||"",S=!!(0,l.isCurrentStack)(o,f)&&{exact:(0,l.isExactStack)(o,f),params:p,path:k,url:h.location.pathname},_={id:o,path:k,stack:b,send:v},P={children:n,history:h,machine:{current:f,send:v},match:S};return S?c.default.createElement(e.StateNodeContext.Provider,{value:_},a?c.default.createElement(a,r({},P)):n):null};s.displayName="State",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return null};r.displayName="Transition",e.default=r},function(t,e,n){"use strict";n.r(e);var r=n(3),a=n.n(r);n.d(e,"Link",(function(){return a.a}));var o=n(0),i=n.n(o);n.d(e,"createMachine",(function(){return o.createMachine})),n.d(e,"Machine",(function(){return i.a})),n.d(e,"useMachine",(function(){return o.useMachine}));var c=n(4),u=n.n(c);n.d(e,"State",(function(){return u.a}));var l=n(5),s=n.n(l);n.d(e,"Transition",(function(){return s.a}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(1);!function(t){t.historyReplace="history/REPLACE",t.historyPush="history/PUSH",t.historyPop="history/POP",t.transition="machine/TRANSITION",t.noMatchingState="machine/NO_MATCHING_STATE",t.noMatchingTransition="machine/NO_MATCHING_TRANSITION"}(r||(r={}));e.default=function(t,e){if(!e)return[[],function(){}];var n=(0,a.useState)([]),o=n[0],i=n[1];return[o,function(e){var n=e.type,a=e.payload,c=new Date,u="".concat(c.getHours(),":").concat(c.getMinutes(),":").concat(c.getSeconds(),".").concat(c.getMilliseconds()),l=a.event,s=a.target,f=function(t){return void 0===t&&(t=n.replace(/_/g," ")),console.group("%cFSM-Router action: %c".concat(t," %c@ ").concat(u),"color: grey; font-weight: normal","font-weight: bold;","color: grey; font-weight: normal")},h=function(){return console.log("%cevent:","color: blue; font-weight: bold;",l)},d=function(){return console.log("%csource:","color: grey; font-weight: bold;",{state:t.current,location:t.location})},p=function(){s.exact?console.log("%ctarget","color: green; font-weight: bold;",{location:s.location,matched:s.exact,state:s.state}):console.log("%ctarget","color: green; font-weight: bold;",{state:s.state,location:s.location})};switch(n){case r.transition:f(),h(),d(),p();break;case r.noMatchingState:f("EVENT DISCARDED"),console.log('%cdetails: %cNo matching <State id="%c'.concat(s.state,'%c"/> found.'),"color: red; font-weight: bold;",null,"font-weight: bold; font-family: monospace;",null),h(),d(),console.log("%ctarget","color: green; font-weight: bold;",{state:s.state});break;case r.noMatchingTransition:f("EVENT DISCARDED"),console.log('%cdetails: %cNo matching <Transition id="%c'.concat(l,'%c"/> found within source state or any of its ancestors.'),"color: red; font-weight: bold;",null,"font-weight: bold; font-family: monospace;",null),h(),d();break;case r.historyReplace:case r.historyPush:case r.historyPop:f(),console.log("%cpath","color: blue; font-weight: bold;",s.location.pathname),d(),p()}console.groupEnd(),i(o.concat({type:n,payload:a}))}]}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.r(e),n.d(e,"Action",(function(){return a})),n.d(e,"createBrowserHistory",(function(){return h})),n.d(e,"createHashHistory",(function(){return d})),n.d(e,"createMemoryHistory",(function(){return p})),n.d(e,"createPath",(function(){return s})),n.d(e,"parsePath",(function(){return f}));var a,o=a||(a={});o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE";var i=function(t){return t};function c(t){t.preventDefault(),t.returnValue=""}function u(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function l(){return Math.random().toString(36).substr(2,8)}function s(t){var e=t.pathname,n=t.search;return(void 0===e?"/":e)+(void 0===n?"":n)+(void 0===(t=t.hash)?"":t)}function f(t){var e={};if(t){var n=t.indexOf("#");0<=n&&(e.hash=t.substr(n),t=t.substr(0,n)),0<=(n=t.indexOf("?"))&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function h(t){function e(){var t=p.location,e=v.state||{};return[e.idx,i({pathname:t.pathname,search:t.search,hash:t.hash,state:e.usr||null,key:e.key||"default"})]}function n(t){return"string"==typeof t?t:s(t)}function o(t,e){return void 0===e&&(e=null),i(r({pathname:b.pathname,hash:"",search:""},"string"==typeof t?f(t):t,{state:e,key:l()}))}function h(t){m=t,t=e(),y=t[0],b=t[1],k.call({action:m,location:b})}function d(t){v.go(t)}void 0===t&&(t={});var p=void 0===(t=t.window)?document.defaultView:t,v=p.history,g=null;p.addEventListener("popstate",(function(){if(g)S.call(g),g=null;else{var t=a.Pop,n=e(),r=n[0];if(n=n[1],S.length){if(null!=r){var o=y-r;o&&(g={action:t,location:n,retry:function(){d(-1*o)}},d(o))}}else h(t)}}));var m=a.Pop,y=(t=e())[0],b=t[1],k=u(),S=u();return null==y&&(y=0,v.replaceState(r({},v.state,{idx:y}),"")),{get action(){return m},get location(){return b},createHref:n,push:function t(e,r){var i=a.Push,c=o(e,r);if(!S.length||(S.call({action:i,location:c,retry:function(){t(e,r)}}),0)){var u=[{usr:c.state,key:c.key,idx:y+1},n(c)];c=u[0],u=u[1];try{v.pushState(c,"",u)}catch(t){p.location.assign(u)}h(i)}},replace:function t(e,r){var i=a.Replace,c=o(e,r);S.length&&(S.call({action:i,location:c,retry:function(){t(e,r)}}),1)||(c=[{usr:c.state,key:c.key,idx:y},n(c)],v.replaceState(c[0],"",c[1]),h(i))},go:d,back:function(){d(-1)},forward:function(){d(1)},listen:function(t){return k.push(t)},block:function(t){var e=S.push(t);return 1===S.length&&p.addEventListener("beforeunload",c),function(){e(),S.length||p.removeEventListener("beforeunload",c)}}}}function d(t){function e(){var t=f(v.location.hash.substr(1)),e=t.pathname,n=t.search;t=t.hash;var r=g.state||{};return[r.idx,i({pathname:void 0===e?"/":e,search:void 0===n?"":n,hash:void 0===t?"":t,state:r.usr||null,key:r.key||"default"})]}function n(){if(m)_.call(m),m=null;else{var t=a.Pop,n=e(),r=n[0];if(n=n[1],_.length){if(null!=r){var o=b-r;o&&(m={action:t,location:n,retry:function(){p(-1*o)}},p(o))}}else d(t)}}function o(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=-1===(n=(e=v.location.href).indexOf("#"))?e:e.slice(0,n)),n+"#"+("string"==typeof t?t:s(t))}function h(t,e){return void 0===e&&(e=null),i(r({pathname:k.pathname,hash:"",search:""},"string"==typeof t?f(t):t,{state:e,key:l()}))}function d(t){y=t,t=e(),b=t[0],k=t[1],S.call({action:y,location:k})}function p(t){g.go(t)}void 0===t&&(t={});var v=void 0===(t=t.window)?document.defaultView:t,g=v.history,m=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){s(e()[1])!==s(k)&&n()}));var y=a.Pop,b=(t=e())[0],k=t[1],S=u(),_=u();return null==b&&(b=0,g.replaceState(r({},g.state,{idx:b}),"")),{get action(){return y},get location(){return k},createHref:o,push:function t(e,n){var r=a.Push,i=h(e,n);if(!_.length||(_.call({action:r,location:i,retry:function(){t(e,n)}}),0)){var c=[{usr:i.state,key:i.key,idx:b+1},o(i)];i=c[0],c=c[1];try{g.pushState(i,"",c)}catch(t){v.location.assign(c)}d(r)}},replace:function t(e,n){var r=a.Replace,i=h(e,n);_.length&&(_.call({action:r,location:i,retry:function(){t(e,n)}}),1)||(i=[{usr:i.state,key:i.key,idx:b},o(i)],g.replaceState(i[0],"",i[1]),d(r))},go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(t){return S.push(t)},block:function(t){var e=_.push(t);return 1===_.length&&v.addEventListener("beforeunload",c),function(){e(),_.length||v.removeEventListener("beforeunload",c)}}}}function p(t){function e(t,e){return void 0===e&&(e=null),i(r({pathname:g.pathname,search:"",hash:""},"string"==typeof t?f(t):t,{state:e,key:l()}))}function n(t,e,n){return!y.length||(y.call({action:t,location:e,retry:n}),!1)}function o(t,e){v=t,g=e,m.call({action:v,location:g})}function c(t){var e=Math.min(Math.max(p+t,0),d.length-1),r=a.Pop,i=d[e];n(r,i,(function(){c(t)}))&&(p=e,o(r,i))}void 0===t&&(t={});var h=t;t=h.initialEntries,h=h.initialIndex;var d=(void 0===t?["/"]:t).map((function(t){return i(r({pathname:"/",search:"",hash:"",state:null,key:l()},"string"==typeof t?f(t):t))})),p=Math.min(Math.max(null==h?d.length-1:h,0),d.length-1),v=a.Pop,g=d[p],m=u(),y=u();return{get index(){return p},get action(){return v},get location(){return g},createHref:function(t){return"string"==typeof t?t:s(t)},push:function t(r,i){var c=a.Push,u=e(r,i);n(c,u,(function(){t(r,i)}))&&(p+=1,d.splice(p,d.length,u),o(c,u))},replace:function t(r,i){var c=a.Replace,u=e(r,i);n(c,u,(function(){t(r,i)}))&&(d[p]=u,o(c,u))},go:c,back:function(){c(-1)},forward:function(){c(1)},listen:function(t){return m.push(t)},block:function(t){return y.push(t)}}}}])}));
//# sourceMappingURL=index.js.map