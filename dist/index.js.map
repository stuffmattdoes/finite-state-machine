{"version":3,"sources":["webpack://FSMRouter/webpack/universalModuleDefinition","webpack://FSMRouter/webpack/bootstrap","webpack://FSMRouter/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://FSMRouter/./src/util.js","webpack://FSMRouter/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://FSMRouter/./node_modules/history/index.js","webpack://FSMRouter/./src/logger.jsx","webpack://FSMRouter/./src/Machine.jsx","webpack://FSMRouter/./src/Link.jsx","webpack://FSMRouter/./src/State.jsx","webpack://FSMRouter/./src/Transition.jsx"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getChildStateNodes","children","length","childrenOfType","getChildrenOfType","React","Children","toArray","props","reduce","acc","child","concat","type","filter","displayName","isExactStack","id","stack","split","pop","isDynamicSegment","segment","test","isRootPath","path","segmentize","url","Boolean","injectUrlParams","params","map","seg","param","replace","keys","includes","toString","console","error","join","location","search","getAtomic","normalizedChildStates","find","norm","childStates","initial","childStatesFull","childId","initialChild","resolveUrlToAtomic","machineId","atomic","atomicExists","atomicPath","atomicStack","rootId","match","childMatch","slice","isRootSegment","dynamicPaths","urlSegments","dynamicPathMatch","pathSegments","pathSegment","notFoundState","warn","deriveStateFromUrl","currentPath","currentStack","isNotFound","selectTransition","event","availableTransitions","transitions","activeTransition","cond","transitionEvent","target","parentStack","_extends","assign","arguments","source","apply","this","x","Pop","Push","Replace","y","a","A","preventDefault","returnValue","B","push","b","forEach","D","Math","random","substr","E","pathname","g","hash","F","indexOf","useLogger","enabled","useState","logs","setLogs","payload","date","Date","time","getHours","getMinutes","getSeconds","getMilliseconds","logTitle","actionType","group","logEvent","log","logSource","state","current","logTarget","exact","matched","groupEnd","MachineContext","createContext","createMachine","options","Machine","useMachine","useContext","history","send","machineChildren","machineHistory","ignoreHash","logging","useMemo","h","f","idx","usr","v","q","action","go","document","defaultView","addEventListener","e","retry","replaceState","createHref","w","k","C","pushState","G","u","back","forward","listen","block","removeEventListener","createBrowserHistory","_childStates","Error","normalizeLoop","stateNodes","initialIndex","findIndex","stateNode","parallel","undefined","sendId","gcs","j","initialStack","setState","unlisten","prevState","useEffect","providerValue","data","targetState","targetId","targetNode","Provider","Link","_classNames","next","className","disabled","href","onClick","trim","StateNodeContext","State","Component","component","machineContext","machineSend","parentPath","stackPath","isCurrentStack","initialContext","componentProps","machine","Transition"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FSMRouter\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"FSMRouter\"] = factory(root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import React from 'react';\n\nconst getChildStateNodes = (children) => {\n    if (children.length) {\n        const childrenOfType = getChildrenOfType(React.Children.toArray(children), 'State');\n    \n        if (childrenOfType.length) {\n            return childrenOfType;\n        }\n\n        if (children.props && children.props.children) {\n            return children.props.children.reduce((acc, child) => {\n                acc = acc.concat(getChildrenOfType(React.Children.toArray(child.props.children), 'State'));\n                return acc;\n            }, []);\n        }\n    }\n    \n    return [];\n}\nconst classNames = (_classNames) => {\n    const next = _classNames.map(className => {\n        switch(typeof className) {\n            case 'string':\n                return className;\n            case 'object':\n                return Object.keys(className).filter(key => Boolean(className[key])).join(' ').trim();\n            default:\n                return null;\n        }\n    }).join(' ').trim();\n\n    return Boolean(next) ? next : null;\n}\nconst getChildrenOfType = (children, type) => children.filter(c => c.type.displayName === type);\n// const getInitialChildStateNode = (stateNodes) => stateNodes.find(c => c.props.initial) || stateNodes[0];\n// const isAtomic = (stateNode) => getChildStateNodes(React.Children.toArray(stateNode.props.children)).length === 0;\n// const isAtomicNormalized = (stateNode) => stateNode.childStates.length === 0;\nconst isCurrentStack = (id, stack) => !!stack.split('.').find(state => state === id);\nconst isExactStack = (id, stack) => stack.split('.').pop() === id;\nconst isDynamicSegment = segment => /^:(.+)/.test(segment);\nconst isRootPath = (path) => path === '/';\nconst isRootSegment = url => url.slice(1) === '';\nconst isRootStack = stack => !stack.match(/\\./g);\nconst isNotFound = stack => stack.split('.').pop() === '*';\nconst segmentize = url => url.split('/').filter(Boolean);\n\nconst injectUrlParams = (path, params) => {\n    const url = segmentize(path).map(seg => {\n        if (isDynamicSegment(seg)) {\n            const param = seg.replace(':', '');\n\n            if (Object.keys(params).includes(param)) {\n                return params[param].toString();\n            } else {\n                console.error(`Cannot push to a dynamic URL without supplying the proper parameters: ${seg} parameter is missing.`);\n                return 'undefined';\n            }\n        }\n\n        return seg;\n    }).join('/');\n\n    return '/' + url + (window.location.search ? window.location.search : '');\n}\n\nconst deriveStateFromUrl = (url, normalizedChildStates, rootId) => {\n    let match = {\n        params: {},\n        path: url,\n        stack: null\n    }\n\n    // 1. Exact match, no dynamic URL needed\n    const childMatch = normalizedChildStates.find(norm => norm.path === url);\n\n    if (childMatch) {\n        match.path = childMatch.path;\n        match.stack = childMatch.stack;\n        return match;\n    }\n\n    // 1.1 Check if URL is root, return initial stack\n    if (isRootSegment(url)) {\n        match.stack = normalizedChildStates.find(norm => norm.stack.match(/\\./g).length === 1 && norm.initial).stack;\n        return match;\n    }\n\n    // 2. No exact match yet, compare to dynamic URLs for match\n    const dynamicPaths = normalizedChildStates.filter(norm => norm.path && norm.path.match(/\\/:/g)).map(norm => norm.path);\n\n    if (dynamicPaths.length) {\n        // 2.1 Split url && child paths into arrays, compare 1 by 1\n        const urlSegments = segmentize(url);;\n        \n        // let params = {};\n        const dynamicPathMatch = dynamicPaths.find(p => {\n            const pathSegments = segmentize(p);\n            match.params = {};\n\n            // Can't be a match if our path segments is not the same length as our URL segments\n            if (pathSegments.length !== urlSegments.length) {\n                return false;\n            }\n\n            // TODO\n            // path doesn't parse params if complete path match is not found\n            return !pathSegments.map((pathSegment, i) => {\n                // 2.2 infer parameter from URL from first segment array that matches in length\n                if (isDynamicSegment(pathSegment)) {\n                    match.params[pathSegment.slice(1)] = urlSegments[i];\n                    return true;\n                // 2.3 if path segment matches url segment exactly, proceed\n                } else if (pathSegment === urlSegments[i]) {\n                    return true;\n                }\n\n                return false;\n            }).includes(false);\n        });\n\n        if (dynamicPathMatch) {\n            // 2.4 finally, return the stack that corresponds to the URL\n            match.path = dynamicPathMatch;\n            match.stack = normalizedChildStates.find(norm => norm.path === dynamicPathMatch).stack;;\n        }\n    }\n\n    // 3.0 if no match, resolve to wildcard route \"*\"\"\n    if (!match.stack) {\n        const notFoundState = normalizedChildStates.find(norm => norm.id === '*');\n        match.stack = '#' + rootId + '.*';\n\n        // 3.1 If no wildcard route \"*\", throw error\n        if (!notFoundState) {\n            console.warn(`No <State/> configuration matches URL \"${url}, and no catch-all <State id='*' path='/404'/> exists. Consider adding one.`);\n        }\n    }\n\n    return match;\n}\n\nconst fakeUUID = () => 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    let r = Math.random() * 16 | 0;\n    let v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n});\n\nconst normalizeChildStateProps = (stateNodes, rootId) => {\n    const normalizeLoop = (stateNodes) => {\n        let initialIndex = stateNodes.findIndex(s => s.props.initial);\n        initialIndex = initialIndex >= 0 ? initialIndex : 0;\n\n        return stateNodes.reduce((acc, stateNode, i) => {\n            const { children, id, parallel, path = '/' } = stateNode.props;\n            const childStates = getChildStateNodes(React.Children.toArray(children));\n            const transitions = getChildrenOfType(React.Children.toArray(children), 'Transition')\n                .map(({ props }) => ({\n                    cond: props.cond === true || props.cond === undefined ? true : false,\n                    event: props.event,\n                    sendId: id,\n                    target: props.target\n                }));\n\n            // Add current state node to array\n            acc.push({\n                childStates: childStates.map(child => child.props.id),\n                id,\n                initial: initialIndex === i,\n                path,\n                stack: '.' + id,\n                transitions,\n                type: parallel ? 'parallel'\n                    : childStates.length === 0 ? 'atomic'\n                    : childStates.length > 1 ? 'compound' : 'default'\n            });\n\n            // Add children state nodes to array, recursively\n            if (childStates.length) {\n                normalizeLoop(childStates).forEach((gcs, j) => acc.push({\n                    childStates: gcs.childStates,\n                    id: gcs.id,\n                    initial: gcs.initial,\n                    path: !isRootPath(path) ? !isRootPath(gcs.path) ? path + gcs.path : path : gcs.path,\n                    stack: '.' + id + gcs.stack,\n                    transitions: gcs.transitions,\n                    type: gcs.type\n                }));\n            }\n\n            return acc;\n        }, []);\n    };\n\n    return normalizeLoop(stateNodes).map(norm => {\n        norm.stack = '#' + rootId + norm.stack;\n        return norm;\n    });\n}\n\nconst getAtomic = (stack, normalizedChildStates) => {\n    const { childStates, path, stack: _stack } = normalizedChildStates.find(norm =>  norm.stack === stack);\n    let initial = {\n        path,\n        stack: _stack\n    }\n\n    if (childStates.length) {\n        const childStatesFull = childStates.map(childId => normalizedChildStates.find(norm => norm.id === childId));\n        const initialChild = childStatesFull.find(child => child.initial) || childStatesFull[0];\n\n        if (initialChild.childStates.length) {\n            return getAtomic(initialChild.stack, normalizedChildStates);\n        } else {\n            initial.path = initialChild.path || '/';\n            initial.stack = initialChild.stack;\n        }\n    }\n\n    return initial;\n}\n\nconst resolveUrlToAtomic = (url, normalizedChildStates, machineId) => {\n    let atomic = {\n        params: {},\n        path: null,\n        stack: null,\n        url\n    };\n\n    const atomicExists = (stack, path) => {\n        const { path: atomicPath, stack: atomicStack } = getAtomic(stack, normalizedChildStates);\n        atomic = {\n            ...atomic,\n            path: atomicPath,\n            stack: atomicStack,\n            url: injectUrlParams(atomicPath, atomic.params)\n        }\n    }\n\n    if (isRootPath(url)) {\n        const { stack } = normalizedChildStates[0];\n        atomicExists(stack, url);\n    } else {\n        const { params, path: currentPath, stack: currentStack } = deriveStateFromUrl(url, normalizedChildStates, machineId);\n        atomic = {\n            ...atomic,\n            params,\n            path: currentPath,\n            stack: currentStack\n        }\n\n        if (!isNotFound(currentStack)) {\n            atomicExists(currentStack, currentPath);\n        }\n    }\n\n    return atomic;\n}\n\nconst selectTransition = (event, currentStack, normalizedChildStates) => {\n    if (isRootStack(currentStack)) {\n        return null;\n    }\n\n    const availableTransitions = normalizedChildStates.find(norm => norm.stack === currentStack).transitions;\n\n    if (availableTransitions.length) {\n        const activeTransition = availableTransitions.find(({ cond, event: transitionEvent, target }) => \n            transitionEvent === event && (cond === null || cond === true));\n        if (activeTransition) {\n            return activeTransition;\n        }\n    }\n\n    const parentStack = currentStack.split('.').slice(0, -1).join('.');\n    return selectTransition(event, parentStack, normalizedChildStates);\n}\n\nexport {\n    classNames,\n    fakeUUID,\n    getChildrenOfType,\n    getChildStateNodes,\n    injectUrlParams,\n    isCurrentStack, \n    isExactStack,\n    normalizeChildStateProps,\n    resolveUrlToAtomic,\n    getAtomic,\n    selectTransition\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _extends from'@babel/runtime/helpers/esm/extends';var m,x=m||(m={});x.Pop=\"POP\";x.Push=\"PUSH\";x.Replace=\"REPLACE\";var y=\"production\"!==process.env.NODE_ENV?function(a){return Object.freeze(a)}:function(a){return a};function z(a,b){if(!a){\"undefined\"!==typeof console&&console.warn(b);try{throw Error(b);}catch(g){}}}function A(a){a.preventDefault();a.returnValue=\"\"}\nfunction B(){var a=[];return{get length(){return a.length},push:function(b){a.push(b);return function(){a=a.filter(function(a){return a!==b})}},call:function(b){a.forEach(function(a){return a&&a(b)})}}}function D(){return Math.random().toString(36).substr(2,8)}function E(a){var b=a.pathname,g=a.search;a=a.hash;return(void 0===b?\"/\":b)+(void 0===g?\"\":g)+(void 0===a?\"\":a)}\nfunction F(a){var b={};if(a){var g=a.indexOf(\"#\");0<=g&&(b.hash=a.substr(g),a=a.substr(0,g));g=a.indexOf(\"?\");0<=g&&(b.search=a.substr(g),a=a.substr(0,g));a&&(b.pathname=a)}return b}\nfunction createBrowserHistory(a){function b(){var a=h.location,d=f.state||{};return[d.idx,y({pathname:a.pathname,search:a.search,hash:a.hash,state:d.usr||null,key:d.key||\"default\"})]}function g(a){return\"string\"===typeof a?a:E(a)}function t(a,d){void 0===d&&(d=null);return y(_extends({},l,{},\"string\"===typeof a?F(a):a,{state:d,key:D()}))}function v(a){n=a;a=b();q=a[0];l=a[1];c.call({action:n,location:l})}function w(a,d){function c(){w(a,d)}var k=m.Push,C=t(a,d);if(!e.length||(e.call({action:k,\nlocation:C,retry:c}),!1)){var b=[{usr:C.state,key:C.key,idx:q+1},g(C)];C=b[0];b=b[1];try{f.pushState(C,\"\",b)}catch(G){h.location.assign(b)}v(k)}}function u(a,d){function c(){u(a,d)}var b=m.Replace,k=t(a,d);e.length&&(e.call({action:b,location:k,retry:c}),1)||(k=[{usr:k.state,key:k.key,idx:q},g(k)],f.replaceState(k[0],\"\",k[1]),v(b))}function r(a){f.go(a)}void 0===a&&(a={});a=a.window;var h=void 0===a?document.defaultView:a,f=h.history,p=null;h.addEventListener(\"popstate\",function(){if(p)e.call(p),\np=null;else{var a=m.Pop,d=b(),c=d[0];d=d[1];if(e.length)if(null!=c){var f=q-c;f&&(p={action:a,location:d,retry:function(){r(-1*f)}},r(f))}else\"production\"!==process.env.NODE_ENV?z(!1,\"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.\"):void 0;else v(a)}});var n=\nm.Pop;a=b();var q=a[0],l=a[1],c=B(),e=B();null==q&&(q=0,f.replaceState(_extends({},f.state,{idx:q}),\"\"));return{get action(){return n},get location(){return l},createHref:g,push:w,replace:u,go:r,back:function(){r(-1)},forward:function(){r(1)},listen:function(a){return c.push(a)},block:function(a){var d=e.push(a);1===e.length&&h.addEventListener(\"beforeunload\",A);return function(){d();e.length||h.removeEventListener(\"beforeunload\",A)}}}};\nfunction createHashHistory(a){function b(){var a=F(f.location.hash.substr(1)),c=a.pathname,b=a.search;a=a.hash;var e=p.state||{};return[e.idx,y({pathname:void 0===c?\"/\":c,search:void 0===b?\"\":b,hash:void 0===a?\"\":a,state:e.usr||null,key:e.key||\"default\"})]}function g(){if(n)k.call(n),n=null;else{var a=m.Pop,c=b(),e=c[0];c=c[1];if(k.length)if(null!=e){var f=l-e;f&&(n={action:a,location:c,retry:function(){h(-1*f)}},h(f))}else\"production\"!==process.env.NODE_ENV?z(!1,\"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.\"):\nvoid 0;else w(a)}}function t(a){var d=document.querySelector(\"base\"),c=\"\";d&&d.getAttribute(\"href\")&&(d=f.location.href,c=d.indexOf(\"#\"),c=-1===c?d:d.slice(0,c));return c+\"#\"+(\"string\"===typeof a?a:E(a))}function v(a,b){void 0===b&&(b=null);return y(_extends({},c,{},\"string\"===typeof a?F(a):a,{state:b,key:D()}))}function w(a){q=a;a=b();l=a[0];c=a[1];e.call({action:q,location:c})}function u(a,c){function d(){u(a,c)}var b=m.Push,e=v(a,c);\"production\"!==process.env.NODE_ENV?z(\"/\"===e.pathname.charAt(0),\n\"Relative pathnames are not supported in hash history.push(\"+JSON.stringify(a)+\")\"):void 0;if(!k.length||(k.call({action:b,location:e,retry:d}),!1)){var g=[{usr:e.state,key:e.key,idx:l+1},t(e)];e=g[0];g=g[1];try{p.pushState(e,\"\",g)}catch(H){f.location.assign(g)}w(b)}}function r(a,c){function d(){r(a,c)}var e=m.Replace,b=v(a,c);\"production\"!==process.env.NODE_ENV?z(\"/\"===b.pathname.charAt(0),\"Relative pathnames are not supported in hash history.replace(\"+JSON.stringify(a)+\")\"):void 0;k.length&&(k.call({action:e,\nlocation:b,retry:d}),1)||(b=[{usr:b.state,key:b.key,idx:l},t(b)],p.replaceState(b[0],\"\",b[1]),w(e))}function h(a){p.go(a)}void 0===a&&(a={});a=a.window;var f=void 0===a?document.defaultView:a,p=f.history,n=null;f.addEventListener(\"popstate\",g);f.addEventListener(\"hashchange\",function(){var a=b()[1];E(a)!==E(c)&&g()});var q=m.Pop;a=b();var l=a[0],c=a[1],e=B(),k=B();null==l&&(l=0,p.replaceState(_extends({},p.state,{idx:l}),\"\"));return{get action(){return q},get location(){return c},createHref:t,push:u,\nreplace:r,go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(a){return e.push(a)},block:function(a){var c=k.push(a);1===k.length&&f.addEventListener(\"beforeunload\",A);return function(){c();k.length||f.removeEventListener(\"beforeunload\",A)}}}};\nfunction createMemoryHistory(a){function b(a,b){void 0===b&&(b=null);return y(_extends({},n,{},\"string\"===typeof a?F(a):a,{state:b,key:D()}))}function g(a,b,f){return!l.length||(l.call({action:a,location:b,retry:f}),!1)}function t(a,b){p=a;n=b;q.call({action:p,location:n})}function v(a,e){var c=m.Push,d=b(a,e);\"production\"!==process.env.NODE_ENV?z(\"/\"===n.pathname.charAt(0),\"Relative pathnames are not supported in memory history.push(\"+JSON.stringify(a)+\")\"):void 0;g(c,d,function(){v(a,e)})&&\n(f+=1,h.splice(f,h.length,d),t(c,d))}function w(a,e){var c=m.Replace,d=b(a,e);\"production\"!==process.env.NODE_ENV?z(\"/\"===n.pathname.charAt(0),\"Relative pathnames are not supported in memory history.replace(\"+JSON.stringify(a)+\")\"):void 0;g(c,d,function(){w(a,e)})&&(h[f]=d,t(c,d))}function u(a){var b=Math.min(Math.max(f+a,0),h.length-1),c=m.Pop,d=h[b];g(c,d,function(){u(a)})&&(f=b,t(c,d))}void 0===a&&(a={});var r=a;a=r.initialEntries;r=r.initialIndex;var h=(void 0===a?[\"/\"]:a).map(function(a){var b=\ny(_extends({pathname:\"/\",search:\"\",hash:\"\",state:null,key:D()},\"string\"===typeof a?F(a):a));\"production\"!==process.env.NODE_ENV?z(\"/\"===b.pathname.charAt(0),\"Relative pathnames are not supported in createMemoryHistory({ initialEntries }) (invalid entry: \"+JSON.stringify(a)+\")\"):void 0;return b}),f=Math.min(Math.max(null==r?h.length-1:r,0),h.length-1),p=m.Pop,n=h[f],q=B(),l=B();return{get index(){return f},get action(){return p},get location(){return n},createHref:function(a){return\"string\"===typeof a?\na:E(a)},push:v,replace:w,go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(a){return q.push(a)},block:function(a){return l.push(a)}}};export{m as Action,createBrowserHistory,createHashHistory,createMemoryHistory,E as createPath,F as parsePath}\n//# sourceMappingURL=index.js.map\n","import React, { useState } from 'react';\n/*\n    TRANSITION log\n    source: { state: \"stateId\", : path: \"/path\" }\n    event: { event: \"event-name\", : data: { ...data }}\n        if transition isn't child:\n        matched: { state: \"stateId\", oath: \"/path\" }\n    target: { state: \"stateId\", : path: \"/path\" }\n        if not atomic:\n        resolved: { state: \"stateId\", : path: \"/path\" }\n\n    EVENT DISCARDED\n    source: { state: \"stateId\", : path: \"/path\" }\n    target: { state: \"stateId\", : path: \"/path\" }\n\n    HISTORY PUSH/POP/REPLACE\n    source: { state: \"stateId\", : path: \"/path\" }\n    url: \"/path\",\n    target: { state: \"stateId\", : path: \"/path\" }\n        if not atomic:\n        resolved: { state: \"stateId\", : path: \"/path\" }\n*/\n\nconst useLogger = (source, enabled) => {\n    if (!enabled) {\n        return [ [], () => {} ];\n    }\n\n    const [ logs, setLogs ] = useState([]);\n    const log = ({ type, payload }) => {\n        const date = new Date();\n        const time = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}.${date.getMilliseconds()}`;\n        const { event, target } = payload;\n\n        const logTitle = (actionType = type.replace(/_/g, ' ')) => \n            console.group(`%cFSM-Router action: %c${actionType} %c@ ${time}`,\n                'color: grey; font-weight: normal', 'font-weight: bold;', 'color: grey; font-weight: normal');\n        const logEvent = () => console.log('%cevent:', 'color: blue; font-weight: bold;', event);\n        const logSource = () => console.log('%csource:', 'color: grey; font-weight: bold;', { state: source.current, location: source.location });\n        const logTarget = () => {\n            if (target.exact) {\n                console.log('%ctarget', 'color: green; font-weight: bold;', {\n                    location: target.location,\n                    matched: target.exact,\n                    state: target.state\n                    // resolved: { state: target.state, path: target.path }\n                    // search: target.location.search\n                });\n            } else {\n                console.log('%ctarget', 'color: green; font-weight: bold;', { state: target.state, location: target.location });\n            }\n        }\n\n        switch(type) {\n            case 'TRANSITION':\n                logTitle();\n                logEvent();\n                logSource();\n                logTarget();\n                break;\n            case 'NO_MATCHING_STATE':\n                logTitle('EVENT DISCARDED');\n                console.log(`%cdetails: %cNo matching <State id=\"%c${target.state}%c\"/> found.`,\n                    'color: red; font-weight: bold;', null, 'font-weight: bold; font-family: monospace;', null);\n                logEvent();\n                logSource();\n                console.log('%ctarget', 'color: green; font-weight: bold;', { state: target.state });\n                break;\n            case 'NO_MATCHING_TRANSITION':\n                logTitle('EVENT DISCARDED');\n                console.log(`%cdetails: %cNo matching <Transition id=\"%c${event}%c\"/> found within source state or any of its ancestors.`,\n                    'color: red; font-weight: bold;', null, 'font-weight: bold; font-family: monospace;', null);\n                logEvent();\n                logSource();\n                break;\n            case 'HISTORY_REPLACE':\n            case 'HISTORY_PUSH':\n            case 'HISTORY_POP':\n                logTitle();\n                console.log('%cpath', 'color: blue; font-weight: bold;', target.location.pathname);\n                logSource();\n                logTarget();\n                break;\n        }\n\n        console.groupEnd();\n\n        setLogs(logs.concat({ type, payload }));\n    }\n\n    return [ logs, log ];\n}\n\nexport default useLogger;","import React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { createBrowserHistory } from 'history';\nimport useLogger from './logger';\nimport {\n    getChildStateNodes,\n    injectUrlParams,\n    normalizeChildStateProps,\n    resolveUrlToAtomic,\n    getAtomic,\n    selectTransition\n} from './util';\n\nexport const MachineContext = React.createContext({});\nMachineContext.displayName = 'Machine';\n\n// TODO: ignore hash option - doesn't resolve if only URL hash changes\nexport const createMachine = (options) => (props) => Machine({ ...props, ...options });\n\nexport const useMachine = () => {\n    const { current, history, id, params, send } = useContext(MachineContext);\n    return [{ current, history, id, params }, send ];\n}\n\nfunction Machine ({ children: machineChildren, history: machineHistory, id: machineId = 'machine', ignoreHash = false, logging = false }) {\n    const history = useMemo(() => machineHistory || createBrowserHistory(), []);\n\n    const [ childStates, normalizedChildStates ] = useMemo(() => {\n        const _childStates = getChildStateNodes(React.Children.toArray(machineChildren));\n\n        if (_childStates.length === 0) {\n            throw new Error('<Machine/> has no children <State/> nodes! At least one is required to be considered a valid state machine.');\n        }\n\n        const _normalizedChildStates = normalizeChildStateProps(_childStates, machineId);\n        \n        return [ _childStates, _normalizedChildStates ];\n    }, [ machineChildren ]);\n\n    const [ initialStack, params ] = useMemo(() => {\n        const { params, path, stack, url } = resolveUrlToAtomic(history.location.pathname, normalizedChildStates, machineId);\n\n        // For mount\n        if (history.location.pathname !== url) {\n            history.replace(url);\n        }\n\n        return [ stack, params ];\n    }, []);\n\n    const [ state, setState ] = useState({\n        current: initialStack,\n        location: history.location,\n        params\n    });\n    const [ logs, log ] = useLogger(state, logging);\n\n    const send = (event, data = null) => {\n        const targetState = selectTransition(event, state.current, normalizedChildStates);\n\n        if (targetState) {\n            const params = data && data.params || state.params;\n            const { event: transitionEvent, target: targetId } = targetState;\n            const targetNode = normalizedChildStates.find(norm => norm.id === targetId);\n\n            if (targetNode) {\n                const { path, stack } = getAtomic(targetNode.stack, normalizedChildStates);\n                const url = injectUrlParams(path, params);\n\n                if (url !== history.location.pathname) {\n                    history.push(url, { target: stack });\n                } else {\n                    setState((prevState) => ({ current: stack, location: history.location, params }));\n                }\n\n                log({\n                    type: 'TRANSITION',\n                    payload: {\n                        event,\n                        target: { params, location: history.location, state: stack }\n                    }\n                });\n            } else {\n                log({\n                    type: 'NO_MATCHING_STATE',\n                    payload: { \n                        event,\n                        target: { params, state: targetId }\n                    }\n                });\n            }\n        } else {\n            log({\n                type: 'NO_MATCHING_TRANSITION',\n                payload: { event }\n            });\n        }\n    }\n\n    /*\n        useMemo ensures history listener is invoked prior to render.\n        This is vital to ensure any \"send\" events in child \"useEffects\" are captured\n    */\n    const unlisten = useMemo(() => history.listen(({ action, location }) => {\n        const { params, path, stack, url } = resolveUrlToAtomic(location.pathname, normalizedChildStates, machineId);\n        let target = stack;\n\n        // After mount\n        if (location.pathname !== url) {\n            history.replace(url);\n        }\n\n        if (ignoreHash && state.location.hash !== location.hash) {\n            setState((prevState) => ({ ...state, location: history.location, params }));\n            return;\n        }\n\n        // TODO - check to see if URL update changes lineage, or if is exact match. If so, update stack\n        // Could compare match.isExact also\n\n        if (location.state && location.state.target) {\n            target = location.state.target;\n        } \n\n        if (action === 'POP' || (!location.state || !location.state.target)) {\n            log({\n                type: `HISTORY_${action}`,\n                payload: {\n                    target: { target, params, location: history.location, state: stack }\n                }\n            });\n        }\n\n        setState((prevState) => ({ current: target, location: history.location, params }));\n    }));\n\n    useEffect(() => unlisten);\n\n    const providerValue = {\n        ...state,\n        history,\n        id: machineId,\n        send\n    };\n\n    return <MachineContext.Provider value={providerValue}>\n        {childStates}\n    </MachineContext.Provider>;\n}\n\nMachine.displayName = 'Machine';\n\nexport default Machine;\n","import React, { useContext } from 'react';\nimport { classNames } from './util';\nimport { MachineContext } from './Machine';\n\nfunction Link({ children, className, disabled = false, href = '#', onClick, replace = false }) {\n    const { current, history } = useContext(MachineContext);\n\n    const handleClick = (event) => {\n        event.preventDefault();\n\n        if (disabled) {\n            return;\n        }\n\n        const action = replace ? 'replace' : 'push';\n        history[action](href);\n        onClick && onClick(event);\n    }\n\n    return <a className={classNames([\n        className,\n        { \n            'link-exact': href === history.location.pathname,\n            'link-active': history.location.pathname.includes(href) && !disabled,\n            'disabled': disabled\n        }\n    ])} href={href} onClick={handleClick}>{children}</a>\n}\n\nLink.displayName = 'Link';\n\nexport default Link;","import React, { useContext } from 'react';\nimport { MachineContext } from './Machine';\nimport { isCurrentStack, isExactStack } from './util';\n\nexport const StateNodeContext = React.createContext({\n    id: null,\n    path: null,\n    stack: null\n});\nStateNodeContext.displayName = 'StateNode';\n\nfunction State(props) {\n    const { children, component: Component, id, initial, path } = props;\n    const machineContext = useContext(MachineContext);\n    const { event: machineEvent, current, history, id: machineId, params, send: machineSend } = machineContext;\n    const { id: parentId, path: parentPath, stack: parentStack } = useContext(StateNodeContext);\n    const stack = parentStack ? `${parentStack}.${id}` : `#${machineId}.${id}`;\n    const stackPath = path ? parentPath ? parentPath + path : path : parentPath;\n    const match = isCurrentStack(id, current) ? {\n        exact: isExactStack(id, current),\n        params,\n        path: stackPath,\n        url: history.location.pathname\n    } : false;\n\n    const initialContext = {\n        id,\n        path: stackPath,\n        stack,\n        send: machineSend,\n    }\n    const componentProps = {\n        children,\n        history,\n        machine: {\n            current,\n            send: machineSend\n        },\n        match\n    }\n\n    return match ?\n        <StateNodeContext.Provider value={initialContext}>\n            { Component ?\n                <Component {...componentProps}/>\n            : children }\n        </StateNodeContext.Provider>\n    : null;\n}\n\nState.displayName = 'State';\n\nexport default State;\n","const Transition = (props) => null;\nTransition.displayName = 'Transition';\n\nexport default Transition;\n"],"sourceRoot":""}